# How to use define node command

- Get your redis DB address used in farmerbot
- Create a new json file `config.json` and add your node configurations (some are required):

```json
{
    "id": "<your node ID, required>",
    "twinID": "<your node twin ID, required>",
    "farmID": "<your node farm ID, optional>",
    "farmID": "<your node farm ID, optional>",
    "description": "<description, optional>",
    "certified": "<if node is certified, optional>",
    "dedicated": "<if node is dedicated, optional>",
    "publicConfig": "<if node has public config, optional>",
    "publicIPsUsed": "<number of node used public ips, optional>",
    "hasActiveRentContract": "<if node has an active rent contract, optional>",
    "wgPorts": "<list of node wireguard ports, optional>",
    "resources": {
        "overProvisionCPU": "<how much node allow over provisioning the CPU , default is 1, range: [1;4], optional>",
        "total": {
            "SRU": "<node SRU>, required",
            "MRU": "<node MRU>, required",
            "HRU": "<node HRU>, required",
            "CRU": "<node CRU>, required",
        }
    },
    "powerState": {
        "on": "<if node power state is on, default is true, optional>",
        "wakingUp": "<if node power state is waking up, optional>",
        "off": "<if node power state is off, optional>",
        "shuttingDown": "<if node power state is shutting down, optional>"
    },
    "timeoutClaimedResources": "<timeout to update claiming resources from node, default is after 30 minutes, optional>",
    "lastTimePowerStateChanged": "<last time node power changed, optional>",
    "lastTimeAwake": "<last time node was waking up, optional>",
}
```

- Run:

```bash
farmerbot nodemanager define -c config.json-m <mnemonics> -n dev -r <redis address> -d false -l farmerbot.log
```

Where:

- `-c config.json` is the json file of farmerbot configurations, with a default `config.json`.
- `-m <mnemonics>` is your farm mnemonics.
- `-n dev` is your network and can be main, qa and test with a default `dev`.
- `-r <redis address>` is your redis DB address.
- `-d false` is the value of debug mode with a default `false`.
- `-l farmerbot.log` is log file to include logs generated by farmerbot with a default `farmerbot.log`.
